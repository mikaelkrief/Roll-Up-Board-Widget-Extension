<!-- ---------------------------------------------------------------------
// <copyright file="configuration.html">
//    This code is licensed under the MIT License.
//    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF
//    ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED
//    TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
//    PARTICULAR PURPOSE AND NONINFRINGEMENT.
// </copyright>
// <summary>
// configuration
// </summary>
//---------------------------------------------------------------------
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <link href="css/app.css" rel="stylesheet" />
</head>

<body>
    <div class="container">
        <div class="widget-configuration">
            <div class="dropdown" id="query-path-dropdown">
                <label>Backlog</label>
                <div class="wrapper">
                    <select id="board-dropdown"></select>
                </div>
            </div>
            <fieldset class="checkbox" id="select-results" style="margin-top:10px;">
                <input type="checkbox" id="hidenewdone" value="id" name="check" checked="true">
                <label for="check-option1">Hide New/Done column</label><br/>
            </fieldset>
            <div id="ff-demo" style="margin-top:15px;background-color:#eff6fc;display:block">
                <legend>Area Path Filter - Enable this preview feature</legend>
                <label class="switch"><input type="checkbox" id="enableff"><div class="slider round"></div></label>
                <div class="dropdown" id="area-path-dropdown">
                    <label>Area path</label>
                    <div class="wrapper">
                        <select id="areapath-dropdown">
                            <option>Area 1</option>
                            <option>Area 1 / Area 1.1</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        <script src="../lib/VSS.SDK.min.js"></script>
        <script src="../lib/ai.0.js"></script>
        <script src="../lib/ldclient.min.js"></script>
        <script type="text/javascript">
            VSS.init({
                explicitNotifyLoaded: true,
                usePlatformStyles: true,
                usePlatformScripts: true,
                setupModuleLoader: true
            });

          

            VSS.ready(function () {
                VSS.require(["dist/configuration", "TFS/Dashboards/WidgetHelpers", "../dist/LaunchDarklyService"], function (config, WidgetHelpers, ff) {
                    let webContext = VSS.getWebContext();
                    WidgetHelpers.IncludeWidgetConfigurationStyles();
                    var user = {
                        "key": webContext.account.name + ":" + webContext.user.email
                    }
                    ff.LaunchDarklyService.Init(user).then((p) => {
                        p.ldClient.on("ready", function () {
                            VSS.register("rollupboardwidget-Configuration", () => {
                                ff.LaunchDarklyService.SetFlags();
                                let configuration = new config.Configuration(WidgetHelpers, ff.LaunchDarklyService);
                                return configuration;
                            });
                            VSS.notifyLoadSucceeded();
                        });
                    });
                });
            });
        </script>
</body>

</html>